/*
 * This build file was auto generated by running the Gradle 'init' task
 * by 'sakura' at '14/07/19 15:55' with Gradle 2.0
 *
 * This generated file contains a commented-out sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * user guide available at http://gradle.org/docs/2.0/userguide/tutorial_java_projects.html
 */

apply plugin: 'war'
apply plugin: 'idea'
apply plugin: 'findbugs'
apply plugin: 'pmd'
apply plugin: 'cpd'
apply plugin: 'jacoco'

// In this section you declare where to find the dependencies of your project
repositories {
    // Use 'maven central' for resolving your dependencies.
    // You can declare any Maven/Ivy/file repository here.
    mavenCentral()
}

buildscript {
    repositories {
        mavenCentral()
    }

    dependencies {
        classpath 'de.aaschmid.gradle.plugins:gradle-cpd-plugin:0.1'
    }
}

// In this section you declare the dependencies for your production and test code
dependencies {
    compile "com.fasterxml.jackson.core:jackson-databind:2.4.1.2"

    providedCompile "javax.servlet:javax.servlet-api:3.1.0"
    providedCompile "javax.json:javax.json-api:1.0"
    providedCompile "javax.websocket:javax.websocket-api:1.0"
    providedCompile "javax.enterprise:cdi-api:1.2"
    providedCompile "javax.annotation:javax.annotation-api:1.2"

    testCompile "junit:junit:4.11"
    testCompile "org.mockito:mockito-core:1.9.5"
    testCompile "com.h2database:h2:1.4.180"
}

findbugs {
    toolVersion = "3.0.0"
    ignoreFailures = true
}

pmd {
    ignoreFailures = true
}

cpd {

}

tasks.cpd {
    reports {
        text.enabled = false
        xml.enabled = true
    }
    source = files('src/main/java')
}

test {
    jacoco {
        enabled = true
        destinationFile = file('build/reports/jacoco/jacoco.exec')
    }
}
